2to3 segregate-sciATAC.PE.CIGARaware.refAndAltSNPs.SNPthresh.Qthresh.py
RefactoringTool: Skipping optional fixer: buffer
RefactoringTool: Skipping optional fixer: idioms
RefactoringTool: Skipping optional fixer: set_literal
RefactoringTool: Skipping optional fixer: ws_comma
RefactoringTool: Refactored segregate-sciATAC.PE.CIGARaware.refAndAltSNPs.SNPthresh.Qthresh.py
--- segregate-sciATAC.PE.CIGARaware.refAndAltSNPs.SNPthresh.Qthresh.py	(original)
+++ segregate-sciATAC.PE.CIGARaware.refAndAltSNPs.SNPthresh.Qthresh.py	(refactored)

@@ -181,7 +181,7 @@
     readSAMLine = process.stdout.readline()
     if not readSAMLine: break
     readSAMLine = readSAMLine.strip()
-    readLine = inputStream.next()
+    readLine = next(inputStream)
     lineNumber += 1

     # Skip header lines.

@@ -195,7 +195,7 @@
   # Read in mate pair
     readSAMLinePE = process.stdout.readline()
     readSAMLinePE = readSAMLinePE.strip()
-    readLinePE = inputStream.next()
+    readLinePE = next(inputStream)
     lineNumber += 1
     readPairTally += 1
     # sys.stderr.write("\n~~~\n%d:\t%s\n"% (lineNumber, readSAMLine))

@@ -377,7 +377,7 @@

     for offset in range(0, E1ReadCIGARsedLength):
         key = (E1chrom, E1startPositionCIGARsed + offset)
-        if altsnps.has_key(key):
+        if key in altsnps:
             numE1CoveredBases += 1
             if Illumina18_Qscore(E1QualCIGARsed[offset]) <= Qthresh:
                 numE1LowQualAltBases += 1

@@ -388,7 +388,7 @@
                 # sys.stderr.write("E1 alt SNP %s at offset %d, position %d.\n"
                 #                  % (E1ReadCIGARsed[offset], offset, E1startPositionCIGARsed + offset))
             # Check to see if a ref SNP occurs at the same position.
-            elif refsnps.has_key(key) and (refsnps[key][1] == E1ReadCIGARsed[offset]):
+            elif key in refsnps and (refsnps[key][1] == E1ReadCIGARsed[offset]):
                 E1truRefSNP += 1 # True 129 SNP
             # Neither Cast nor 129 SNP
             elif altsnps[key][0] == E1ReadCIGARsed[offset]:

@@ -396,7 +396,7 @@
             else:
                 E1huhAltSNP += 1 # This should not happen as it should either be a Cast or 129/B6 base.
         # If not an alt SNP, check whether its a ref SNP.
-        elif refsnps.has_key(key):
+        elif key in refsnps:
             numE1CoveredBases += 1
             if Illumina18_Qscore(E1QualCIGARsed[offset]) <= Qthresh:
                 numE1LowQualRefBases += 1

@@ -441,7 +441,7 @@

     for offset in range(0, E2ReadCIGARsedLength):
         key = (E2chrom, E2startPositionCIGARsed + offset)
-        if altsnps.has_key(key):
+        if key in altsnps:
             numE2CoveredBases += 1
             if Illumina18_Qscore(E2QualCIGARsed[offset]) <= Qthresh:
                 numE2LowQualAltBases += 1

@@ -452,7 +452,7 @@
                 # sys.stderr.write("E2 alt SNP %s at offset %d, position %d.\n"
                 #                  % (E2ReadCIGARsed[offset], offset, E2startPositionCIGARsed + offset))
             # Check to see if a ref SNP occurs at the same position.
-            elif refsnps.has_key(key) and (refsnps[key][1] == E2ReadCIGARsed[offset]):
+            elif key in refsnps and (refsnps[key][1] == E2ReadCIGARsed[offset]):
                 E2truRefSNP += 1 # True 129 SNP
             # Neither Cast nor 129 SNP
             elif altsnps[key][0] == E2ReadCIGARsed[offset]:

@@ -460,7 +460,7 @@
             else:
                 E2huhAltSNP += 1 # This should not happen as it should either be a Cast or 129/B6 base.
         # If not an alt SNP, check whether its a ref SNP.
-        elif refsnps.has_key(key):
+        elif key in refsnps:
             numE2CoveredBases += 1
             if Illumina18_Qscore(E2QualCIGARsed[offset]) <= Qthresh:
                 numE2LowQualRefBases += 1

RefactoringTool: Files that need to be modified:
RefactoringTool: segregate-sciATAC.PE.CIGARaware.refAndAltSNPs.SNPthresh.Qthresh.py